var KalamuMediaManager=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=26)}([function(t,e,i){"use strict";var r=Function.prototype.toString,n=/^\s*class\b/,o=function(t){try{var e=r.call(t);return n.test(e)}catch(t){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(s)return function(t){try{return!o(t)&&(r.call(t),!0)}catch(t){return!1}}(t);if(o(t))return!1;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e,i){"use strict";var r=i(2);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,i){"use strict";var r=i(13);t.exports=Function.prototype.bind||r},function(t,e,i){var r,n,o,a,s,h;t.exports=(r=r||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),r={},n=r.lib={},o=n.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,r=this.sigBytes,n=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<n;o++){var a=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,r=[],n=function(e){var e=e,i=987654321,r=4294967295;return function(){var n=((i=36969*(65535&i)+(i>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=n(4294967296*(i||t.random()));i=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,e)}}),s=r.enc={},h=s.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(i,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(i,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,r=i.words,n=i.sigBytes,o=this.blockSize,s=4*o,h=n/s,c=(h=e?t.ceil(h):t.max((0|h)-this._minBufferSize,0))*o,l=t.min(4*c,n);if(c){for(var p=0;p<c;p+=o)this._doProcessBlock(r,p);var d=r.splice(0,c);i.sigBytes-=l}return new a.init(d,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(n.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}}),r.algo={});return r}(Math),h=(s=r).lib.WordArray,s.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,r=this._map;t.clamp();for(var n=[],o=0;o<i;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)n.push(r.charAt(a>>>6*(3-s)&63));var h=r.charAt(64);if(h)for(;n.length%4;)n.push(h);return n.join("")},parse:function(t){var e=t.length,i=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var n=0;n<i.length;n++)r[i.charCodeAt(n)]=n}var o=i.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return function(t,e,i){for(var r=[],n=0,o=0;o<e;o++)if(o%4){var a=i[t.charCodeAt(o-1)]<<o%4*2,s=i[t.charCodeAt(o)]>>>6-o%4*2;r[n>>>2]|=(a|s)<<24-n%4*8,n++}return h.create(r,n)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){var e=r,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var h=a.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,a=t[e+0],h=t[e+1],u=t[e+2],f=t[e+3],g=t[e+4],m=t[e+5],y=t[e+6],v=t[e+7],b=t[e+8],w=t[e+9],x=t[e+10],_=t[e+11],S=t[e+12],k=t[e+13],B=t[e+14],C=t[e+15],A=o[0],E=o[1],D=o[2],M=o[3];A=c(A,E,D,M,a,7,s[0]),M=c(M,A,E,D,h,12,s[1]),D=c(D,M,A,E,u,17,s[2]),E=c(E,D,M,A,f,22,s[3]),A=c(A,E,D,M,g,7,s[4]),M=c(M,A,E,D,m,12,s[5]),D=c(D,M,A,E,y,17,s[6]),E=c(E,D,M,A,v,22,s[7]),A=c(A,E,D,M,b,7,s[8]),M=c(M,A,E,D,w,12,s[9]),D=c(D,M,A,E,x,17,s[10]),E=c(E,D,M,A,_,22,s[11]),A=c(A,E,D,M,S,7,s[12]),M=c(M,A,E,D,k,12,s[13]),D=c(D,M,A,E,B,17,s[14]),A=l(A,E=c(E,D,M,A,C,22,s[15]),D,M,h,5,s[16]),M=l(M,A,E,D,y,9,s[17]),D=l(D,M,A,E,_,14,s[18]),E=l(E,D,M,A,a,20,s[19]),A=l(A,E,D,M,m,5,s[20]),M=l(M,A,E,D,x,9,s[21]),D=l(D,M,A,E,C,14,s[22]),E=l(E,D,M,A,g,20,s[23]),A=l(A,E,D,M,w,5,s[24]),M=l(M,A,E,D,B,9,s[25]),D=l(D,M,A,E,f,14,s[26]),E=l(E,D,M,A,b,20,s[27]),A=l(A,E,D,M,k,5,s[28]),M=l(M,A,E,D,u,9,s[29]),D=l(D,M,A,E,v,14,s[30]),A=p(A,E=l(E,D,M,A,S,20,s[31]),D,M,m,4,s[32]),M=p(M,A,E,D,b,11,s[33]),D=p(D,M,A,E,_,16,s[34]),E=p(E,D,M,A,B,23,s[35]),A=p(A,E,D,M,h,4,s[36]),M=p(M,A,E,D,g,11,s[37]),D=p(D,M,A,E,v,16,s[38]),E=p(E,D,M,A,x,23,s[39]),A=p(A,E,D,M,k,4,s[40]),M=p(M,A,E,D,a,11,s[41]),D=p(D,M,A,E,f,16,s[42]),E=p(E,D,M,A,y,23,s[43]),A=p(A,E,D,M,w,4,s[44]),M=p(M,A,E,D,S,11,s[45]),D=p(D,M,A,E,C,16,s[46]),A=d(A,E=p(E,D,M,A,u,23,s[47]),D,M,a,6,s[48]),M=d(M,A,E,D,v,10,s[49]),D=d(D,M,A,E,B,15,s[50]),E=d(E,D,M,A,m,21,s[51]),A=d(A,E,D,M,S,6,s[52]),M=d(M,A,E,D,f,10,s[53]),D=d(D,M,A,E,x,15,s[54]),E=d(E,D,M,A,h,21,s[55]),A=d(A,E,D,M,b,6,s[56]),M=d(M,A,E,D,C,10,s[57]),D=d(D,M,A,E,y,15,s[58]),E=d(E,D,M,A,k,21,s[59]),A=d(A,E,D,M,g,6,s[60]),M=d(M,A,E,D,_,10,s[61]),D=d(D,M,A,E,u,15,s[62]),E=d(E,D,M,A,w,21,s[63]),o[0]=o[0]+A|0,o[1]=o[1]+E|0,o[2]=o[2]+D|0,o[3]=o[3]+M|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;i[n>>>5]|=128<<24-n%32;var o=t.floor(r/4294967296),a=r;i[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,h=s.words,c=0;c<4;c++){var l=h[c];h[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,i,r,n,o,a){var s=t+(e&i|~e&r)+n+a;return(s<<o|s>>>32-o)+e}function l(t,e,i,r,n,o,a){var s=t+(e&r|i&~r)+n+a;return(s<<o|s>>>32-o)+e}function p(t,e,i,r,n,o,a){var s=t+(e^i^r)+n+a;return(s<<o|s>>>32-o)+e}function d(t,e,i,r,n,o,a){var s=t+(i^(e|~r))+n+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(h),e.HmacMD5=o._createHmacHelper(h)}(Math),function(){var t=r,e=t.lib,i=e.WordArray,n=e.Hasher,o=t.algo,a=[],s=o.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],s=i[3],h=i[4],c=0;c<80;c++){if(c<16)a[c]=0|t[e+c];else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var p=(r<<5|r>>>27)+h+a[c];p+=c<20?1518500249+(n&o|~n&s):c<40?1859775393+(n^o^s):c<60?(n&o|n&s|o&s)-1894007588:(n^o^s)-899497514,h=s,s=o,o=n<<30|n>>>2,n=r,r=p}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+h|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(s),t.HmacSHA1=n._createHmacHelper(s)}(),function(t){var e=r,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=[],h=[];!function(){function e(e){for(var i=t.sqrt(e),r=2;r<=i;r++)if(!(e%r))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var r=2,n=0;n<64;)e(r)&&(n<8&&(s[n]=i(t.pow(r,.5))),h[n]=i(t.pow(r,1/3)),n++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],l=i[5],p=i[6],d=i[7],u=0;u<64;u++){if(u<16)c[u]=0|t[e+u];else{var f=c[u-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[u-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[u]=g+c[u-7]+y+c[u-16]}var v=r&n^r&o^n&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&p)+h[u]+c[u];d=p,p=l,l=s,s=a+w|0,a=o,o=n,n=r,r=w+(b+v)|0}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0,i[5]=i[5]+l|0,i[6]=i[6]+p|0,i[7]=i[7]+d|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=t.floor(r/4294967296),i[15+(n+64>>>9<<4)]=r,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),function(){var t=r,e=t.lib.WordArray,i=t.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n+=2){var o=e[n>>>2]>>>16-n%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var i=t.length,r=[],n=0;n<i;n++)r[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return e.create(r,2*i)}},i.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],o=0;o<i;o+=2){var a=n(e[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var i=t.length,r=[],o=0;o<i;o++)r[o>>>1]|=n(t.charCodeAt(o)<<16-o%2*16);return e.create(r,2*i)}}}(),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,r=[],n=0;n<i;n++)r[n>>>2]|=t[n]<<24-n%4*8;e.call(this,r,i)}else e.apply(this,arguments)}).prototype=t}}(),
/** @preserve
	(c) 2012 by CÃ©dric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=r,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=n.create([0,1518500249,1859775393,2400959708,2840853838]),d=n.create([1352829926,1548603684,1836072691,2053994217,0]),u=a.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,a,u,w,x,_,S,k,B,C,A,E=this._hash.words,D=p.words,M=d.words,P=s.words,$=h.words,O=c.words,H=l.words;for(_=o=E[0],S=a=E[1],k=u=E[2],B=w=E[3],C=x=E[4],i=0;i<80;i+=1)A=o+t[e+P[i]]|0,A+=i<16?f(a,u,w)+D[0]:i<32?g(a,u,w)+D[1]:i<48?m(a,u,w)+D[2]:i<64?y(a,u,w)+D[3]:v(a,u,w)+D[4],A=(A=b(A|=0,O[i]))+x|0,o=x,x=w,w=b(u,10),u=a,a=A,A=_+t[e+$[i]]|0,A+=i<16?v(S,k,B)+M[0]:i<32?y(S,k,B)+M[1]:i<48?m(S,k,B)+M[2]:i<64?g(S,k,B)+M[3]:f(S,k,B)+M[4],A=(A=b(A|=0,H[i]))+C|0,_=C,C=B,B=b(k,10),k=S,S=A;A=E[1]+u+B|0,E[1]=E[2]+w+C|0,E[2]=E[3]+x+_|0,E[3]=E[4]+o+S|0,E[4]=E[0]+a+k|0,E[0]=A},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,o=n.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,i){return t^e^i}function g(t,e,i){return t&e|~t&i}function m(t,e,i){return(t|~e)^i}function y(t,e,i){return t&i|e&~i}function v(t,e,i){return t^(e|~i)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(u),e.HmacRIPEMD160=o._createHmacHelper(u)}(Math),function(){var t=r,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,h=a.words,c=0;c<r;c++)s[c]^=1549556828,h[c]^=909522486;o.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}(),function(){var t=r,e=t.lib,i=e.Base,n=e.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,h=o.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,r=s.create(i.hasher,t),o=n.create(),a=n.create([1]),h=o.words,c=a.words,l=i.keySize,p=i.iterations;h.length<l;){var d=r.update(e).finalize(a);r.reset();for(var u=d.words,f=u.length,g=d,m=1;m<p;m++){g=r.finalize(g),r.reset();for(var y=g.words,v=0;v<f;v++)u[v]^=y[v]}o.concat(d),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(t,e,i){return h.create(i).compute(t,e)}}(),function(){var t=r,e=t.lib,i=e.Base,n=e.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,r=i.hasher.create(),o=n.create(),a=o.words,s=i.keySize,h=i.iterations;a.length<s;){c&&r.update(c);var c=r.update(t).finalize(e);r.reset();for(var l=1;l<h;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*s,o}});t.EvpKDF=function(t,e,i){return s.create(i).compute(t,e)}}(),function(){var t=r,e=t.lib.WordArray,i=t.algo,n=i.SHA256,o=i.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(o),t.HmacSHA224=n._createHmacHelper(o)}(),function(t){var e=r,i=e.lib,n=i.Base,o=i.WordArray,a=e.x64={};a.Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],r=0;r<e;r++){var n=t[r];i.push(n.high),i.push(n.low)}return o.create(i,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),i=e.length,r=0;r<i;r++)e[r]=e[r].clone();return t}})}(),function(t){var e=r,i=e.lib,n=i.WordArray,o=i.Hasher,a=e.x64.Word,s=e.algo,h=[],c=[],l=[];!function(){for(var t=1,e=0,i=0;i<24;i++){h[t+5*e]=(i+1)*(i+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,o=0;o<24;o++){for(var s=0,p=0,d=0;d<7;d++){if(1&n){var u=(1<<d)-1;u<32?p^=1<<u:s^=1<<u-32}128&n?n=n<<1^113:n<<=1}l[o]=a.create(s,p)}}();var p=[];!function(){for(var t=0;t<25;t++)p[t]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,r=this.blockSize/2,n=0;n<r;n++){var o=t[e+2*n],a=t[e+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(E=i[n]).high^=a,E.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var u=0,f=0,g=0;g<5;g++)u^=(E=i[d+5*g]).high,f^=E.low;var m=p[d];m.high=u,m.low=f}for(d=0;d<5;d++){var y=p[(d+4)%5],v=p[(d+1)%5],b=v.high,w=v.low;for(u=y.high^(b<<1|w>>>31),f=y.low^(w<<1|b>>>31),g=0;g<5;g++)(E=i[d+5*g]).high^=u,E.low^=f}for(var x=1;x<25;x++){var _=(E=i[x]).high,S=E.low,k=h[x];k<32?(u=_<<k|S>>>32-k,f=S<<k|_>>>32-k):(u=S<<k-32|_>>>64-k,f=_<<k-32|S>>>64-k);var B=p[c[x]];B.high=u,B.low=f}var C=p[0],A=i[0];for(C.high=A.high,C.low=A.low,d=0;d<5;d++)for(g=0;g<5;g++){var E=i[x=d+5*g],D=p[x],M=p[(d+1)%5+5*g],P=p[(d+2)%5+5*g];E.high=D.high^~M.high&P.high,E.low=D.low^~M.low&P.low}E=i[0];var $=l[s];E.high^=$.high,E.low^=$.low}},_doFinalize:function(){var e=this._data,i=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;i[r>>>5]|=1<<24-r%32,i[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,h=s/8,c=[],l=0;l<h;l++){var p=a[l],d=p.high,u=p.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),c.push(u),c.push(d)}return new n.init(c,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),i=0;i<25;i++)e[i]=e[i].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),function(){var t=r,e=t.lib.Hasher,i=t.x64,n=i.Word,o=i.WordArray,a=t.algo;function s(){return n.create.apply(n,arguments)}var h=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=s()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],l=i[5],p=i[6],d=i[7],u=r.high,f=r.low,g=n.high,m=n.low,y=o.high,v=o.low,b=a.high,w=a.low,x=s.high,_=s.low,S=l.high,k=l.low,B=p.high,C=p.low,A=d.high,E=d.low,D=u,M=f,P=g,$=m,O=y,H=v,I=b,R=w,L=x,z=_,T=S,j=k,F=B,W=C,N=A,U=E,X=0;X<80;X++){var Z=c[X];if(X<16)var q=Z.high=0|t[e+2*X],Y=Z.low=0|t[e+2*X+1];else{var K=c[X-15],V=K.high,G=K.low,J=(V>>>1|G<<31)^(V>>>8|G<<24)^V>>>7,Q=(G>>>1|V<<31)^(G>>>8|V<<24)^(G>>>7|V<<25),tt=c[X-2],et=tt.high,it=tt.low,rt=(et>>>19|it<<13)^(et<<3|it>>>29)^et>>>6,nt=(it>>>19|et<<13)^(it<<3|et>>>29)^(it>>>6|et<<26),ot=c[X-7],at=ot.high,st=ot.low,ht=c[X-16],ct=ht.high,lt=ht.low;q=(q=(q=J+at+((Y=Q+st)>>>0<Q>>>0?1:0))+rt+((Y+=nt)>>>0<nt>>>0?1:0))+ct+((Y+=lt)>>>0<lt>>>0?1:0),Z.high=q,Z.low=Y}var pt,dt=L&T^~L&F,ut=z&j^~z&W,ft=D&P^D&O^P&O,gt=M&$^M&H^$&H,mt=(D>>>28|M<<4)^(D<<30|M>>>2)^(D<<25|M>>>7),yt=(M>>>28|D<<4)^(M<<30|D>>>2)^(M<<25|D>>>7),vt=(L>>>14|z<<18)^(L>>>18|z<<14)^(L<<23|z>>>9),bt=(z>>>14|L<<18)^(z>>>18|L<<14)^(z<<23|L>>>9),wt=h[X],xt=wt.high,_t=wt.low,St=N+vt+((pt=U+bt)>>>0<U>>>0?1:0),kt=yt+gt;N=F,U=W,F=T,W=j,T=L,j=z,L=I+(St=(St=(St=St+dt+((pt+=ut)>>>0<ut>>>0?1:0))+xt+((pt+=_t)>>>0<_t>>>0?1:0))+q+((pt+=Y)>>>0<Y>>>0?1:0))+((z=R+pt|0)>>>0<R>>>0?1:0)|0,I=O,R=H,O=P,H=$,P=D,$=M,D=St+(mt+ft+(kt>>>0<yt>>>0?1:0))+((M=pt+kt|0)>>>0<pt>>>0?1:0)|0}f=r.low=f+M,r.high=u+D+(f>>>0<M>>>0?1:0),m=n.low=m+$,n.high=g+P+(m>>>0<$>>>0?1:0),v=o.low=v+H,o.high=y+O+(v>>>0<H>>>0?1:0),w=a.low=w+R,a.high=b+I+(w>>>0<R>>>0?1:0),_=s.low=_+z,s.high=x+L+(_>>>0<z>>>0?1:0),k=l.low=k+j,l.high=S+T+(k>>>0<j>>>0?1:0),C=p.low=C+W,p.high=B+F+(C>>>0<W>>>0?1:0),E=d.low=E+U,d.high=A+N+(E>>>0<U>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(r+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),function(){var t=r,e=t.x64,i=e.Word,n=e.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new n.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s)}(),r.lib.Cipher||function(t){var e=r,i=e.lib,n=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,s=e.enc,h=(s.Utf8,s.Base64),c=e.algo.EvpKDF,l=i.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:y}return function(e){return{encrypt:function(i,r,n){return t(r).encrypt(e,i,r,n)},decrypt:function(i,r,n){return t(r).decrypt(e,i,r,n)}}}}()}),p=(i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),d=i.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),u=p.CBC=function(){var e=d.extend();function i(e,i,r){var n=this._iv;if(n){var o=n;this._iv=t}else o=this._prevBlock;for(var a=0;a<r;a++)e[i+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;i.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=t.slice(e,e+n);r.decryptBlock(t,e),i.call(this,t,e,n),this._prevBlock=o}}),e}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,r=i-t.sigBytes%i,n=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(n);var h=o.create(a,r);t.concat(h)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:f}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,i=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=i.createEncryptor;else r=i.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(i,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),i.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;if(i)var r=o.create([1398893684,1701076831]).concat(i).concat(e);else r=e;return r.toString(h)},parse:function(t){var e=h.parse(t),i=e.words;if(1398893684==i[0]&&1701076831==i[1]){var r=o.create(i.slice(2,4));i.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},y=i.SerializableCipher=n.extend({cfg:n.extend({format:m}),encrypt:function(t,e,i,r){r=this.cfg.extend(r);var n=t.createEncryptor(i,r),o=n.finalize(e),a=n.cfg;return g.create({ciphertext:o,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(i,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,i,r){r||(r=o.random(8));var n=c.create({keySize:e+i}).compute(t,r),a=o.create(n.words.slice(e),4*i);return n.sigBytes=4*e,g.create({key:n,iv:a,salt:r})}},b=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(t,e,i,r){var n=(r=this.cfg.extend(r)).kdf.execute(i,t.keySize,t.ivSize);r.iv=n.iv;var o=y.encrypt.call(this,t,e,n.key,r);return o.mixIn(n),o},decrypt:function(t,e,i,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var n=r.kdf.execute(i,t.keySize,t.ivSize,e.salt);return r.iv=n.iv,y.decrypt.call(this,t,e,n.key,r)}})}(),r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,i,r){var n=this._iv;if(n){var o=n.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<i;a++)t[e+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize;e.call(this,t,i,n,r),this._prevBlock=t.slice(i,i+n)}}),t.Decryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize,o=t.slice(i,i+n);e.call(this,t,i,n,r),this._prevBlock=o}}),t}(),r.mode.ECB=((a=r.lib.BlockCipherMode.extend()).Encryptor=a.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),a.Decryptor=a.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),a),r.pad.AnsiX923={pad:function(t,e){var i=t.sigBytes,r=4*e,n=r-i%r,o=i+n-1;t.clamp(),t.words[o>>>2]|=n<<24-o%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso10126={pad:function(t,e){var i=4*e,n=i-t.sigBytes%i;t.concat(r.lib.WordArray.random(n-1)).concat(r.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.mode.OFB=(n=r.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),i.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),n.Decryptor=o,n),r.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var e=r,i=e.lib.CipherParams,n=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(n)},parse:function(t){var e=n.parse(t);return i.create({ciphertext:e})}}}(),function(){var t=r,e=t.lib.BlockCipher,i=t.algo,n=[],o=[],a=[],s=[],h=[],c=[],l=[],p=[],d=[],u=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,r=0;for(e=0;e<256;e++){var f=r^r<<1^r<<2^r<<3^r<<4;f=f>>>8^255&f^99,n[i]=f,o[f]=i;var g=t[i],m=t[g],y=t[m],v=257*t[f]^16843008*f;a[i]=v<<24|v>>>8,s[i]=v<<16|v>>>16,h[i]=v<<8|v>>>24,c[i]=v,v=16843009*y^65537*m^257*g^16843008*i,l[f]=v<<24|v>>>8,p[f]=v<<16|v>>>16,d[f]=v<<8|v>>>24,u[f]=v,i?(i=g^t[t[t[y^g]]],r^=t[t[r]]):i=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,r=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],a=0;a<r;a++)if(a<i)o[a]=e[a];else{var s=o[a-1];a%i?i>6&&a%i==4&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=f[a/i|0]<<24),o[a]=o[a-i]^s}for(var h=this._invKeySchedule=[],c=0;c<r;c++)a=r-c,s=c%4?o[a]:o[a-4],h[c]=c<4||a<=4?s:l[n[s>>>24]]^p[n[s>>>16&255]]^d[n[s>>>8&255]]^u[n[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,h,c,n)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,p,d,u,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,r,n,o,a,s){for(var h=this._nRounds,c=t[e]^i[0],l=t[e+1]^i[1],p=t[e+2]^i[2],d=t[e+3]^i[3],u=4,f=1;f<h;f++){var g=r[c>>>24]^n[l>>>16&255]^o[p>>>8&255]^a[255&d]^i[u++],m=r[l>>>24]^n[p>>>16&255]^o[d>>>8&255]^a[255&c]^i[u++],y=r[p>>>24]^n[d>>>16&255]^o[c>>>8&255]^a[255&l]^i[u++],v=r[d>>>24]^n[c>>>16&255]^o[l>>>8&255]^a[255&p]^i[u++];c=g,l=m,p=y,d=v}g=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^i[u++],m=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^i[u++],y=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^i[u++],v=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^i[u++],t[e]=g,t[e+1]=m,t[e+2]=y,t[e+3]=v},keySize:8});t.AES=e._createHelper(g)}(),function(){var t=r,e=t.lib,i=e.WordArray,n=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=o.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var r=a[i]-1;e[i]=t[r>>>5]>>>31-r%32&1}for(var n=this._subKeys=[],o=0;o<16;o++){var c=n[o]=[],l=h[o];for(i=0;i<24;i++)c[i/6|0]|=e[(s[i]-1+l)%28]<<31-i%6,c[4+(i/6|0)]|=e[28+(s[i+24]-1+l)%28]<<31-i%6;for(c[0]=c[0]<<1|c[0]>>>31,i=1;i<7;i++)c[i]=c[i]>>>4*(i-1)+3;c[7]=c[7]<<5|c[7]>>>27}var p=this._invSubKeys=[];for(i=0;i<16;i++)p[i]=n[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),u.call(this,2,858993459),u.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var n=i[r],o=this._lBlock,a=this._rBlock,s=0,h=0;h<8;h++)s|=c[h][((a^n[h])&l[h])>>>0];this._lBlock=a,this._rBlock=o^s}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,d.call(this,1,1431655765),u.call(this,8,16711935),u.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function u(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}t.DES=n._createHelper(p);var f=o.TripleDES=n.extend({_doReset:function(){var t=this._key.words;this._des1=p.createEncryptor(i.create(t.slice(0,2))),this._des2=p.createEncryptor(i.create(t.slice(2,4))),this._des3=p.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(f)}(),function(){var t=r,e=t.lib.StreamCipher,i=t.algo,n=i.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes,r=this._S=[],n=0;n<256;n++)r[n]=n;n=0;for(var o=0;n<256;n++){var a=n%i,s=e[a>>>2]>>>24-a%4*8&255;o=(o+r[n]+s)%256;var h=r[n];r[n]=r[o],r[o]=h}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,i=this._j,r=0,n=0;n<4;n++){i=(i+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[i],t[i]=o,r|=t[(t[e]+t[i])%256]<<24-8*n}return this._i=e,this._j=i,r}t.RC4=e._createHelper(n);var a=i.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,r=255&t;255===e?(e=0,255===i?(i=0,255===r?r=0:++r):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=r}else t+=1<<24;return t}var i=t.Encryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var h=0;h<n;h++)t[i+h]^=s[h]}});return t.Decryptor=i,t}(),function(){var t=r,e=t.lib.StreamCipher,i=t.algo,n=[],o=[],a=[],s=i.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,i=0;i<4;i++)h.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=c>>>16|4294901760&l,d=l<<16|65535&c;for(n[0]^=c,n[1]^=p,n[2]^=l,n[3]^=d,n[4]^=c,n[5]^=p,n[6]^=l,n[7]^=d,i=0;i<4;i++)h.call(this)}},_doProcessBlock:function(t,e){var i=this._X;h.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function h(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var r=t[i]+e[i],n=65535&r,s=r>>>16,h=((n*n>>>17)+n*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=h^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),r.mode.CTR=function(){var t=r.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,n=this._iv,o=this._counter;n&&(o=this._counter=n.slice(0),this._iv=void 0);var a=o.slice(0);i.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}});return t.Decryptor=e,t}(),function(){var t=r,e=t.lib.StreamCipher,i=t.algo,n=[],o=[],a=[],s=i.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)h.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(e){var o=e.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),p=c>>>16|4294901760&l,d=l<<16|65535&c;for(r[0]^=c,r[1]^=p,r[2]^=l,r[3]^=d,r[4]^=c,r[5]^=p,r[6]^=l,r[7]^=d,n=0;n<4;n++)h.call(this)}},_doProcessBlock:function(t,e){var i=this._X;h.call(this),n[0]=i[0]^i[5]>>>16^i[3]<<16,n[1]=i[2]^i[7]>>>16^i[5]<<16,n[2]=i[4]^i[1]>>>16^i[7]<<16,n[3]=i[6]^i[3]>>>16^i[1]<<16;for(var r=0;r<4;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8),t[e+r]^=n[r]},blockSize:4,ivSize:2});function h(){for(var t=this._X,e=this._C,i=0;i<8;i++)o[i]=e[i];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,i=0;i<8;i++){var r=t[i]+e[i],n=65535&r,s=r>>>16,h=((n*n>>>17)+n*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[i]=h^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),r.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},r)},function(t,e,i){"use strict";var r=i(15),n="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,h=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,i,r){var n;e in t&&("function"!=typeof(n=r)||"[object Function]"!==o.call(n)||!r())||(h?s(t,e,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[e]=i)},l=function(t,e){var i=arguments.length>2?arguments[2]:{},o=r(e);n&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],i[o[s]])};l.supportsDescriptors=!!h,t.exports=l},function(t,e,i){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),i="[object Arguments]"===e;return i||(i="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),i}},function(t,e,i){"use strict";var r=i(2),n=i(17),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=n.ToString(n.CheckObjectCoercible(this));return o(o(t,a,""),s,"")}},function(t,e,i){"use strict";var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Object.getPrototypeOf||function(t){return t.__proto__},a=void 0,s="undefined"==typeof Uint8Array?void 0:o(Uint8Array),h={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":n?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&n&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":n?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&n?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&n?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":n?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":n?Symbol:void 0,"$ %SymbolPrototype%":n?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[i]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[i]}},function(t,e,i){"use strict";var r=i(6);t.exports=function(){return String.prototype.trim&&"â"==="â".trim()?String.prototype.trim:r}},function(t,e,i){
/*!
 * Cropper.js v1.5.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-03-10T09:55:53.729Z
 */
t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r="undefined"!=typeof window,n=r?window:{},o=!!r&&"ontouchstart"in n.document.documentElement,a=!!r&&"PointerEvent"in n,s="cropper",h="all",c="crop",l="move",p="zoom",d="e",u="w",f="s",g="n",m="ne",y="nw",v="se",b="sw",w="".concat(s,"-crop"),x="".concat(s,"-disabled"),_="".concat(s,"-hidden"),S="".concat(s,"-hide"),k="".concat(s,"-invisible"),B="".concat(s,"-modal"),C="".concat(s,"-move"),A="".concat(s,"Action"),E="".concat(s,"Preview"),D="crop",M="move",P="none",$="crop",O="cropend",H="cropmove",I="cropstart",R="dblclick",L=a?"pointerdown":o?"touchstart":"mousedown",z=a?"pointermove":o?"touchmove":"mousemove",T=a?"pointerup pointercancel":o?"touchend touchcancel":"mouseup",j="ready",F="resize",W="wheel",N="zoom",U="image/jpeg",X=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Z=/^data:image\/jpeg;base64,/,q=/^img|canvas$/i,Y={viewMode:0,dragMode:D,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},K=Number.isNaN||n.isNaN;function V(t){return"number"==typeof t&&!K(t)}var G=function(t){return 0<t&&t<1/0};function J(t){return void 0===t}function Q(e){return"object"===t(e)&&null!==e}var tt=Object.prototype.hasOwnProperty;function et(t){if(!Q(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&tt.call(i,"isPrototypeOf")}catch(t){return!1}}function it(t){return"function"==typeof t}var rt=Array.prototype.slice;function nt(t){return Array.from?Array.from(t):rt.call(t)}function ot(t,e){return t&&it(e)&&(Array.isArray(t)||V(t.length)?nt(t).forEach(function(i,r){e.call(t,i,r,t)}):Q(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}var at=Object.assign||function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Q(t)&&0<i.length&&i.forEach(function(e){Q(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},st=/\.\d*(?:0|9){12}\d*$/;function ht(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e11;return st.test(t)?Math.round(t*e)/e:t}var ct=/^width|height|left|top|marginLeft|marginTop$/;function lt(t,e){var i=t.style;ot(e,function(t,e){ct.test(e)&&V(t)&&(t="".concat(t,"px")),i[e]=t})}function pt(t,e){if(e)if(V(t.length))ot(t,function(t){pt(t,e)});else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function dt(t,e){e&&(V(t.length)?ot(t,function(t){dt(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}function ut(t,e,i){e&&(V(t.length)?ot(t,function(t){ut(t,e,i)}):i?pt(t,e):dt(t,e))}var ft=/([a-z\d])([A-Z])/g;function gt(t){return t.replace(ft,"$1-$2").toLowerCase()}function mt(t,e){return Q(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(gt(e)))}function yt(t,e,i){Q(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(gt(e)),i)}var vt=/\s\s*/,bt=function(){var t=!1;if(r){var e=!1,i=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});n.addEventListener("test",i,o),n.removeEventListener("test",i,o)}return t}();function wt(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=i;e.trim().split(vt).forEach(function(e){if(!bt){var o=t.listeners;o&&o[e]&&o[e][i]&&(n=o[e][i],delete o[e][i],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,n,r)})}function xt(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=i;e.trim().split(vt).forEach(function(e){if(r.once&&!bt){var o=t.listeners,a=void 0===o?{}:o;n=function(){delete a[e][i],t.removeEventListener(e,n,r);for(var o=arguments.length,s=new Array(o),h=0;h<o;h++)s[h]=arguments[h];i.apply(t,s)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],r),a[e][i]=n,t.listeners=a}t.addEventListener(e,n,r)})}function _t(t,e,i){var r;return it(Event)&&it(CustomEvent)?r=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(r)}function St(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var kt=n.location,Bt=/^(\w+:)\/\/([^:\/?#]*):?(\d*)/i;function Ct(t){var e=t.match(Bt);return null!==e&&(e[1]!==kt.protocol||e[2]!==kt.hostname||e[3]!==kt.port)}function At(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function Et(t){var e=t.rotate,i=t.scaleX,r=t.scaleY,n=t.translateX,o=t.translateY,a=[];V(n)&&0!==n&&a.push("translateX(".concat(n,"px)")),V(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),V(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),V(i)&&1!==i&&a.push("scaleX(".concat(i,")")),V(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Dt(t,e){var i=t.pageX,r=t.pageY,n={endX:i,endY:r};return e?n:at({startX:i,startY:r},n)}function Mt(t){var e=t.aspectRatio,i=t.height,r=t.width,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"contain",o=G(r),a=G(i);if(o&&a){var s=i*e;"contain"===n&&r<s||"cover"===n&&s<r?i=r/e:r=i*e}else o?i=r/e:a&&(r=i*e);return{width:r,height:i}}var Pt=String.fromCharCode,$t=/^data:.*,/,Ot={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,r=this.cropper;pt(r,_),dt(t,_);var n={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};lt(r,{width:(this.containerData=n).width,height:n.height}),pt(t,_),dt(r,_)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,r=Math.abs(e.rotate)%180==90,n=r?e.naturalHeight:e.naturalWidth,o=r?e.naturalWidth:e.naturalHeight,a=n/o,s=t.width,h=t.height;t.height*a>t.width?3===i?s=t.height*a:h=t.width/a:3===i?h=t.width/a:s=t.height*a;var c={aspectRatio:a,naturalWidth:n,naturalHeight:o,width:s,height:h};c.left=(t.width-s)/2,c.top=(t.height-h)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=at({},e),this.initialCanvasData=at({},c)},limitCanvas:function(t,e){var i=this.options,r=this.containerData,n=this.canvasData,o=this.cropBoxData,a=i.viewMode,s=n.aspectRatio,h=this.cropped&&o;if(t){var c=Number(i.minCanvasWidth)||0,l=Number(i.minCanvasHeight)||0;1<a?(c=Math.max(c,r.width),l=Math.max(l,r.height),3===a&&(c<l*s?c=l*s:l=c/s)):0<a&&(c?c=Math.max(c,h?o.width:0):l?l=Math.max(l,h?o.height:0):h&&((c=o.width)<(l=o.height)*s?c=l*s:l=c/s));var p=Mt({aspectRatio:s,width:c,height:l});c=p.width,l=p.height,n.minWidth=c,n.minHeight=l,n.maxWidth=1/0,n.maxHeight=1/0}if(e)if((h?0:1)<a){var d=r.width-n.width,u=r.height-n.height;n.minLeft=Math.min(0,d),n.minTop=Math.min(0,u),n.maxLeft=Math.max(0,d),n.maxTop=Math.max(0,u),h&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,2===a&&(n.width>=r.width&&(n.minLeft=Math.min(0,d),n.maxLeft=Math.max(0,d)),n.height>=r.height&&(n.minTop=Math.min(0,u),n.maxTop=Math.max(0,u))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=r.width,n.maxTop=r.height},renderCanvas:function(t,e){var i=this.canvasData,r=this.imageData;if(e){var n=function(t){var e=t.width,i=t.height,r=t.degree;if(90==(r=Math.abs(r)%180))return{width:i,height:e};var n=r%90*Math.PI/180,o=Math.sin(n),a=Math.cos(n),s=e*a+i*o,h=e*o+i*a;return 90<r?{width:h,height:s}:{width:s,height:h}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=n.width,a=n.height,s=i.width*(o/i.naturalWidth),h=i.height*(a/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(h-i.height)/2,i.width=s,i.height=h,i.aspectRatio=o/a,i.naturalWidth=o,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,lt(this.canvas,at({width:i.width,height:i.height},Et({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,r=i.naturalWidth*(e.width/e.naturalWidth),n=i.naturalHeight*(e.height/e.naturalHeight);at(i,{width:r,height:n,left:(e.width-r)/2,top:(e.height-n)/2}),lt(this.image,at({width:i.width,height:i.height},Et(at({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,n={width:e.width,height:e.height};i&&(e.height*i>e.width?n.height=n.width/i:n.width=n.height*i),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*r),n.height=Math.max(n.minHeight,n.height*r),n.left=e.left+(e.width-n.width)/2,n.top=e.top+(e.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=at({},n)},limitCropBox:function(t,e){var i=this.options,r=this.containerData,n=this.canvasData,o=this.cropBoxData,a=this.limited,s=i.aspectRatio;if(t){var h=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,l=a?Math.min(r.width,n.width,n.width+n.left,r.width-n.left):r.width,p=a?Math.min(r.height,n.height,n.height+n.top,r.height-n.top):r.height;h=Math.min(h,r.width),c=Math.min(c,r.height),s&&(h&&c?h<c*s?c=h/s:h=c*s:h?c=h/s:c&&(h=c*s),l<p*s?p=l/s:l=p*s),o.minWidth=Math.min(h,l),o.minHeight=Math.min(c,p),o.maxWidth=l,o.maxHeight=p}e&&(o.maxTop=a?(o.minLeft=Math.max(0,n.left),o.minTop=Math.max(0,n.top),o.maxLeft=Math.min(r.width,n.left+n.width)-o.width,Math.min(r.height,n.top+n.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,r.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&yt(this.face,A,i.width>=e.width&&i.height>=e.height?l:h),lt(this.cropBox,at({width:i.width,height:i.height},Et({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),_t(this.element,$,this.getData())}},Ht={initPreview:function(){var t=this.crossOrigin,e=this.options.preview,i=t?this.crossOriginUrl:this.url,r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=i,this.viewBox.appendChild(r),this.viewBoxImage=r,e){var n=e;"string"==typeof e?n=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(n=[e]),ot(this.previews=n,function(e){var r=document.createElement("img");yt(e,E,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(r.crossOrigin=t),r.src=i,r.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(r)})}},resetPreview:function(){ot(this.previews,function(t){var e=mt(t,E);lt(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(Q(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(gt(e)))}(t,E)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,r=i.width,n=i.height,o=t.width,a=t.height,s=i.left-e.left-t.left,h=i.top-e.top-t.top;this.cropped&&!this.disabled&&(lt(this.viewBoxImage,at({width:o,height:a},Et(at({translateX:-s,translateY:-h},t)))),ot(this.previews,function(e){var i=mt(e,E),c=i.width,l=i.height,p=c,d=l,u=1;r&&(d=n*(u=c/r)),n&&l<d&&(p=r*(u=l/n),d=l),lt(e,{width:p,height:d}),lt(e.getElementsByTagName("img")[0],at({width:o*u,height:a*u},Et(at({translateX:-s*u,translateY:-h*u},t))))}))}},It={bind:function(){var t=this.element,e=this.options,i=this.cropper;it(e.cropstart)&&xt(t,I,e.cropstart),it(e.cropmove)&&xt(t,H,e.cropmove),it(e.cropend)&&xt(t,O,e.cropend),it(e.crop)&&xt(t,$,e.crop),it(e.zoom)&&xt(t,N,e.zoom),xt(i,L,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&xt(i,W,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&xt(i,R,this.onDblclick=this.dblclick.bind(this)),xt(t.ownerDocument,z,this.onCropMove=this.cropMove.bind(this)),xt(t.ownerDocument,T,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&xt(window,F,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;it(e.cropstart)&&wt(t,I,e.cropstart),it(e.cropmove)&&wt(t,H,e.cropmove),it(e.cropend)&&wt(t,O,e.cropend),it(e.crop)&&wt(t,$,e.crop),it(e.zoom)&&wt(t,N,e.zoom),wt(i,L,this.onCropStart),e.zoomable&&e.zoomOnWheel&&wt(i,W,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&wt(i,R,this.onDblclick),wt(t.ownerDocument,z,this.onCropMove),wt(t.ownerDocument,T,this.onCropEnd),e.responsive&&wt(window,F,this.onResize)}},Rt={resize:function(){var t=this.options,e=this.container,i=this.containerData,r=Number(t.minContainerWidth)||200,n=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=r||i.height<=n)){var o,a,s=e.offsetWidth/i.width;1===s&&e.offsetHeight===i.height||(t.restore&&(o=this.getCanvasData(),a=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(ot(o,function(t,e){o[e]=t*s})),this.setCropBoxData(ot(a,function(t,e){a[e]=t*s}))))}},dblclick:function(){var t,e;this.disabled||this.options.dragMode===P||this.setDragMode((t=this.dragBox,e=w,(t.classList?t.classList.contains(e):-1<t.className.indexOf(e))?M:D))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?r=0<t.deltaY?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=0<t.detail?1:-1),this.zoom(-r*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||V(e)&&1!==e||V(i)&&0!==i||t.ctrlKey)){var r,n=this.options,o=this.pointers;t.changedTouches?ot(t.changedTouches,function(t){o[t.identifier]=Dt(t)}):o[t.pointerId||0]=Dt(t),r=1<Object.keys(o).length&&n.zoomable&&n.zoomOnTouch?p:mt(t.target,A),X.test(r)&&!1!==_t(this.element,I,{originalEvent:t,action:r})&&(t.preventDefault(),this.action=r,this.cropping=!1,r===c&&(this.cropping=!0,pt(this.dragBox,B)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==_t(this.element,H,{originalEvent:t,action:e})&&(t.changedTouches?ot(t.changedTouches,function(t){at(i[t.identifier]||{},Dt(t,!0))}):at(i[t.pointerId||0]||{},Dt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?ot(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ut(this.dragBox,B,this.cropped&&this.options.modal)),_t(this.element,O,{originalEvent:t,action:e}))}}},Lt={change:function(t){var e,i=this.options,r=this.canvasData,n=this.containerData,o=this.cropBoxData,a=this.pointers,s=this.action,w=i.aspectRatio,x=o.left,S=o.top,k=o.width,B=o.height,C=x+k,A=S+B,E=0,D=0,M=n.width,P=n.height,$=!0;!w&&t.shiftKey&&(w=k&&B?k/B:1),this.limited&&(E=o.minLeft,D=o.minTop,M=E+Math.min(n.width,r.width,r.left+r.width),P=D+Math.min(n.height,r.height,r.top+r.height));var O,H,I,R=a[Object.keys(a)[0]],L={x:R.endX-R.startX,y:R.endY-R.startY},z=function(t){switch(t){case d:C+L.x>M&&(L.x=M-C);break;case u:x+L.x<E&&(L.x=E-x);break;case g:S+L.y<D&&(L.y=D-S);break;case f:A+L.y>P&&(L.y=P-A)}};switch(s){case h:x+=L.x,S+=L.y;break;case d:if(0<=L.x&&(M<=C||w&&(S<=D||P<=A))){$=!1;break}z(d),(k+=L.x)<0&&(s=u,x-=k=-k),w&&(B=k/w,S+=(o.height-B)/2);break;case g:if(L.y<=0&&(S<=D||w&&(x<=E||M<=C))){$=!1;break}z(g),B-=L.y,S+=L.y,B<0&&(s=f,S-=B=-B),w&&(k=B*w,x+=(o.width-k)/2);break;case u:if(L.x<=0&&(x<=E||w&&(S<=D||P<=A))){$=!1;break}z(u),k-=L.x,x+=L.x,k<0&&(s=d,x-=k=-k),w&&(B=k/w,S+=(o.height-B)/2);break;case f:if(0<=L.y&&(P<=A||w&&(x<=E||M<=C))){$=!1;break}z(f),(B+=L.y)<0&&(s=g,S-=B=-B),w&&(k=B*w,x+=(o.width-k)/2);break;case m:if(w){if(L.y<=0&&(S<=D||M<=C)){$=!1;break}z(g),B-=L.y,S+=L.y,k=B*w}else z(g),z(d),0<=L.x?C<M?k+=L.x:L.y<=0&&S<=D&&($=!1):k+=L.x,L.y<=0?D<S&&(B-=L.y,S+=L.y):(B-=L.y,S+=L.y);k<0&&B<0?(s=b,S-=B=-B,x-=k=-k):k<0?(s=y,x-=k=-k):B<0&&(s=v,S-=B=-B);break;case y:if(w){if(L.y<=0&&(S<=D||x<=E)){$=!1;break}z(g),B-=L.y,S+=L.y,k=B*w,x+=o.width-k}else z(g),z(u),L.x<=0?E<x?(k-=L.x,x+=L.x):L.y<=0&&S<=D&&($=!1):(k-=L.x,x+=L.x),L.y<=0?D<S&&(B-=L.y,S+=L.y):(B-=L.y,S+=L.y);k<0&&B<0?(s=v,S-=B=-B,x-=k=-k):k<0?(s=m,x-=k=-k):B<0&&(s=b,S-=B=-B);break;case b:if(w){if(L.x<=0&&(x<=E||P<=A)){$=!1;break}z(u),k-=L.x,x+=L.x,B=k/w}else z(f),z(u),L.x<=0?E<x?(k-=L.x,x+=L.x):0<=L.y&&P<=A&&($=!1):(k-=L.x,x+=L.x),0<=L.y?A<P&&(B+=L.y):B+=L.y;k<0&&B<0?(s=m,S-=B=-B,x-=k=-k):k<0?(s=v,x-=k=-k):B<0&&(s=y,S-=B=-B);break;case v:if(w){if(0<=L.x&&(M<=C||P<=A)){$=!1;break}z(d),B=(k+=L.x)/w}else z(f),z(d),0<=L.x?C<M?k+=L.x:0<=L.y&&P<=A&&($=!1):k+=L.x,0<=L.y?A<P&&(B+=L.y):B+=L.y;k<0&&B<0?(s=y,S-=B=-B,x-=k=-k):k<0?(s=b,x-=k=-k):B<0&&(s=m,S-=B=-B);break;case l:this.move(L.x,L.y),$=!1;break;case p:this.zoom((H=at({},O=a),I=[],ot(O,function(t,e){delete H[e],ot(H,function(e){var i=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),n=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),a=Math.sqrt(i*i+r*r),s=(Math.sqrt(n*n+o*o)-a)/a;I.push(s)})}),I.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),I[0]),t),$=!1;break;case c:if(!L.x||!L.y){$=!1;break}e=St(this.cropper),x=R.startX-e.left,S=R.startY-e.top,k=o.minWidth,B=o.minHeight,0<L.x?s=0<L.y?v:m:L.x<0&&(x-=k,s=0<L.y?b:y),L.y<0&&(S-=B),this.cropped||(dt(this.cropBox,_),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}$&&(o.width=k,o.height=B,o.left=x,o.top=S,this.action=s,this.renderCropBox()),ot(a,function(t){t.startX=t.endX,t.startY=t.endY})}},zt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&pt(this.dragBox,B),dt(this.cropBox,_),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=at({},this.initialImageData),this.canvasData=at({},this.initialCanvasData),this.cropBoxData=at({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(at(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),dt(this.dragBox,B),pt(this.cropBox,_)),this},replace:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,ot(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,dt(this.cropper,x)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,pt(this.cropper,x)),this},destroy:function(){var t=this.element;return t[s]&&(t[s]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,r=i.left,n=i.top;return this.moveTo(J(t)?t:r+Number(t),J(e)?e:n+Number(e))},moveTo:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(V(t)&&(i.left=t,r=!0),V(e)&&(i.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var r,n,o,a=this.options,s=this.canvasData,h=s.width,c=s.height,l=s.naturalWidth,p=s.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&a.zoomable){var d=l*t,u=p*t;if(!1===_t(this.element,N,{ratio:t,oldRatio:h/l,originalEvent:i}))return this;if(i){var f=this.pointers,g=St(this.cropper),m=f&&Object.keys(f).length?(o=n=r=0,ot(f,function(t){var e=t.startX,i=t.startY;r+=e,n+=i,o+=1}),{pageX:r/=o,pageY:n/=o}):{pageX:i.pageX,pageY:i.pageY};s.left-=(d-h)*((m.pageX-g.left-s.left)/h),s.top-=(u-c)*((m.pageY-g.top-s.top)/c)}else et(e)&&V(e.x)&&V(e.y)?(s.left-=(d-h)*((e.x-s.left)/h),s.top-=(u-c)*((e.y-s.top)/c)):(s.left-=(d-h)/2,s.top-=(u-c)/2);s.width=d,s.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return V(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,V(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(V(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(V(t)&&(i.scaleX=t,r=!0),V(e)&&(i.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.options,r=this.imageData,n=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-n.left,y:o.top-n.top,width:o.width,height:o.height};var a=r.width/r.naturalWidth;if(ot(t,function(e,i){t[i]=e/a}),e){var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=r.rotate||0),i.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,r=this.canvasData,n={};if(this.ready&&!this.disabled&&et(t)){var o=!1;e.rotatable&&V(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),e.scalable&&(V(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),V(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;V(t.x)&&(n.left=t.x*a+r.left),V(t.y)&&(n.top=t.y*a+r.top),V(t.width)&&(n.width=t.width*a),V(t.height)&&(n.height=t.height*a),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?at({},this.containerData):{}},getImageData:function(){return this.sized?at({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&ot(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&et(t)&&(V(t.left)&&(e.left=t.left),V(t.top)&&(e.top=t.top),V(t.width)?(e.width=t.width,e.height=t.width/i):V(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,r=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&et(t)&&(V(t.left)&&(r.left=t.left),V(t.top)&&(r.top=t.top),V(t.width)&&t.width!==r.width&&(e=!0,r.width=t.width),V(t.height)&&t.height!==r.height&&(i=!0,r.height=t.height),n&&(e?r.height=r.width/n:i&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e,r,n,o,a,s,h,c,l,p,d,u,f,g,m,y,v,b,w,x,_,S,k,B,C,A,E,D,M,P,$,O,H,I,R,L,z,T,j,F,W,N=this.canvasData,U=(e=this.image,r=this.imageData,n=N,o=t,a=r.aspectRatio,s=r.naturalWidth,h=r.naturalHeight,c=r.rotate,l=void 0===c?0:c,p=r.scaleX,d=void 0===p?1:p,u=r.scaleY,f=void 0===u?1:u,g=n.aspectRatio,m=n.naturalWidth,y=n.naturalHeight,v=o.fillColor,b=void 0===v?"transparent":v,w=o.imageSmoothingEnabled,x=void 0===w||w,_=o.imageSmoothingQuality,S=void 0===_?"low":_,k=o.maxWidth,B=void 0===k?1/0:k,C=o.maxHeight,A=void 0===C?1/0:C,E=o.minWidth,D=void 0===E?0:E,M=o.minHeight,P=void 0===M?0:M,$=document.createElement("canvas"),O=$.getContext("2d"),H=Mt({aspectRatio:g,width:B,height:A}),I=Mt({aspectRatio:g,width:D,height:P},"cover"),R=Math.min(H.width,Math.max(I.width,m)),L=Math.min(H.height,Math.max(I.height,y)),z=Mt({aspectRatio:a,width:B,height:A}),T=Mt({aspectRatio:a,width:D,height:P},"cover"),j=Math.min(z.width,Math.max(T.width,s)),F=Math.min(z.height,Math.max(T.height,h)),W=[-j/2,-F/2,j,F],$.width=ht(R),$.height=ht(L),O.fillStyle=b,O.fillRect(0,0,R,L),O.save(),O.translate(R/2,L/2),O.rotate(l*Math.PI/180),O.scale(d,f),O.imageSmoothingEnabled=x,O.imageSmoothingQuality=S,O.drawImage.apply(O,[e].concat(i(W.map(function(t){return Math.floor(ht(t))})))),O.restore(),$);if(!this.cropped)return U;var X=this.getData(),Z=X.x,q=X.y,Y=X.width,K=X.height,V=U.width/Math.floor(N.naturalWidth);1!==V&&(Z*=V,q*=V,Y*=V,K*=V);var G=Y/K,J=Mt({aspectRatio:G,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),Q=Mt({aspectRatio:G,width:t.minWidth||0,height:t.minHeight||0},"cover"),tt=Mt({aspectRatio:G,width:t.width||(1!==V?U.width:Y),height:t.height||(1!==V?U.height:K)}),et=tt.width,it=tt.height;et=Math.min(J.width,Math.max(Q.width,et)),it=Math.min(J.height,Math.max(Q.height,it));var rt=document.createElement("canvas"),nt=rt.getContext("2d");rt.width=ht(et),rt.height=ht(it),nt.fillStyle=t.fillColor||"transparent",nt.fillRect(0,0,et,it);var ot=t.imageSmoothingEnabled,at=void 0===ot||ot,st=t.imageSmoothingQuality;nt.imageSmoothingEnabled=at,st&&(nt.imageSmoothingQuality=st);var ct,lt,pt,dt,ut,ft,gt=U.width,mt=U.height,yt=Z,vt=q;yt<=-Y||gt<yt?ut=pt=ct=yt=0:yt<=0?(pt=-yt,yt=0,ut=ct=Math.min(gt,Y+yt)):yt<=gt&&(pt=0,ut=ct=Math.min(Y,gt-yt)),ct<=0||vt<=-K||mt<vt?ft=dt=lt=vt=0:vt<=0?(dt=-vt,vt=0,ft=lt=Math.min(mt,K+vt)):vt<=mt&&(dt=0,ft=lt=Math.min(K,mt-vt));var bt=[yt,vt,ct,lt];if(0<ut&&0<ft){var wt=et/Y;bt.push(pt*wt,dt*wt,ut*wt,ft*wt)}return nt.drawImage.apply(nt,[U].concat(i(bt.map(function(t){return Math.floor(ht(t))})))),rt},setAspectRatio:function(t){var e=this.options;return this.disabled||J(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var n=t===D,o=e.movable&&t===M;t=n||o?t:P,e.dragMode=t,yt(i,A,t),ut(i,w,n),ut(i,C,o),e.cropBoxMovable||(yt(r,A,t),ut(r,w,n),ut(r,C,o))}return this}},Tt=n.Cropper,jt=function(){function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!q.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=at({},Y,et(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var i,r,o;return i=t,o=[{key:"noConflict",value:function(){return window.Cropper=Tt,t}},{key:"setDefaults",value:function(t){at(Y,et(t)&&t)}}],(r=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[s]){if(e[s]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",!(this.originalUrl=t))return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(Z.test(t))this.read((n=t.replace($t,""),o=atob(n),a=new ArrayBuffer(o.length),ot(s=new Uint8Array(a),function(t,e){s[e]=o.charCodeAt(e)}),a));else{var n,o,a,s,h=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,(this.xhr=h).onabort=c,h.onerror=c,h.ontimeout=c,h.onprogress=function(){h.getResponseHeader("content-type")!==U&&h.abort()},h.onload=function(){e.read(h.response)},h.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&Ct(t)&&i.crossOrigin&&(t=At(t)),h.open("GET",t),h.responseType="arraybuffer",h.withCredentials="use-credentials"===i.crossOrigin,h.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,r=function(t){var e,i=new DataView(t);try{var r,n,o;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,s=2;s+1<a;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){n=s;break}s+=1}if(n){var h=n+10;if("Exif"===function(t,e,i){var r="";i+=e;for(var n=e;n<i;n+=1)r+=Pt(t.getUint8(n));return r}(i,n+4,4)){var c=i.getUint16(h);if(((r=18761===c)||19789===c)&&42===i.getUint16(h+2,r)){var l=i.getUint32(h+4,r);8<=l&&(o=h+l)}}}if(o){var p,d,u=i.getUint16(o,r);for(d=0;d<u;d+=1)if(p=o+12*d+2,274===i.getUint16(p,r)){p+=8,e=i.getUint16(p,r),i.setUint16(p,1,r);break}}}catch(t){e=1}return e}(t),n=0,o=1,a=1;if(1<r){this.url=function(t,e){for(var i=[],r=new Uint8Array(t);0<r.length;)i.push(Pt.apply(null,nt(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat("image/jpeg",";base64,").concat(btoa(i.join("")))}(t);var s=function(t){var e=0,i=1,r=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:r}}(r);n=s.rotate,o=s.scaleX,a=s.scaleY}e.rotatable&&(i.rotate=n),e.scalable&&(i.scaleX=o,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t,e,i=this.element,r=this.url;this.options.checkCrossOrigin&&Ct(r)&&(e=(t=i.crossOrigin)?r:(t="anonymous",At(r))),this.crossOrigin=t,this.crossOriginUrl=e;var n=document.createElement("img");t&&(n.crossOrigin=t),n.src=e||r,(this.image=n).onload=this.start.bind(this),n.onerror=this.stop.bind(this),pt(n,S),i.parentNode.insertBefore(n,i.nextSibling)}},{key:"start",value:function(){var t=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=n.navigator&&/^(?:.(?!chrome|android))*safari/i.test(n.navigator.userAgent),r=function(e,i){at(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var o=document.createElement("img"),a=document.body||document.documentElement;(this.sizingImage=o).onload=function(){r(o.width,o.height),i||a.removeChild(o)},o.src=e.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}else r(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,r=t.parentNode,n=document.createElement("div");n.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=n.querySelector(".".concat(s,"-container")),a=o.querySelector(".".concat(s,"-canvas")),c=o.querySelector(".".concat(s,"-drag-box")),l=o.querySelector(".".concat(s,"-crop-box")),p=l.querySelector(".".concat(s,"-face"));this.container=r,this.cropper=o,this.canvas=a,this.dragBox=c,this.cropBox=l,this.viewBox=o.querySelector(".".concat(s,"-view-box")),this.face=p,a.appendChild(i),pt(t,_),r.insertBefore(o,t.nextSibling),this.isImg||dt(i,S),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,pt(l,_),e.guides||pt(l.getElementsByClassName("".concat(s,"-dashed")),_),e.center||pt(l.getElementsByClassName("".concat(s,"-center")),_),e.background&&pt(o,"".concat(s,"-bg")),e.highlight||pt(p,k),e.cropBoxMovable&&(pt(p,C),yt(p,A,h)),e.cropBoxResizable||(pt(l.getElementsByClassName("".concat(s,"-line")),_),pt(l.getElementsByClassName("".concat(s,"-point")),_)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),it(e.ready)&&xt(t,j,e.ready,{once:!0}),_t(t,j)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),dt(this.element,_))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&e(i.prototype,r),o&&e(i,o),t}();return at(jt.prototype,Ot,Ht,It,Rt,Lt,zt),jt}()},function(t,e,i){"use strict";var r=i(11),n=i(12),o=i(1),a=i(14),s=function(t){n(!1,t)},h=String.prototype.replace,c=String.prototype.split,l="||||",p=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},d={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:p,chinese:function(){return 0},croatian:p,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:p,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},u={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function f(t){var e,i=(e={},r(u,function(t,i){r(t,function(t){e[t]=i})}),e);return i[t]||i[c.call(t,/-/,1)[0]]||i.en}function g(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var m=/\$/g,y="$$",v=/%\{(.*?)\}/g;function b(t,e,i,r){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var n=t,s=r||v,p="number"==typeof e?{smart_count:e}:e;if(null!=p.smart_count&&n){var u=c.call(n,l);n=a(u[function(t,e){return d[f(t)](e)}(i||"en",p.smart_count)]||u[0])}return n=h.call(n,s,function(t,e){return o(p,e)&&null!=p[e]?h.call(p[e],m,y):t})}function w(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var i=e.allowMissing?b:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:i,this.warn=e.warn||s,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",i=t&&t.suffix||"}";if(e===l||i===l)throw new RangeError('"'+l+'" token is reserved for pluralization');return new RegExp(g(e)+"(.*?)"+g(i),"g")}(e.interpolation)}w.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},w.prototype.extend=function(t,e){r(t,function(t,i){var r=e?e+"."+i:i;"object"==typeof t?this.extend(t,r):this.phrases[r]=t},this)},w.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:r(t,function(t,i){var r=e?e+"."+i:i;"object"==typeof t?this.unset(t,r):delete this.phrases[r]},this)},w.prototype.clear=function(){this.phrases={}},w.prototype.replace=function(t){this.clear(),this.extend(t)},w.prototype.t=function(t,e){var i,r,n=null==e?{}:e;if("string"==typeof this.phrases[t])i=this.phrases[t];else if("string"==typeof n._)i=n._;else if(this.onMissingKey){r=(0,this.onMissingKey)(t,n,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),r=t;return"string"==typeof i&&(r=b(i,n,this.currentLocale,this.tokenRegex)),r},w.prototype.has=function(t){return o(this.phrases,t)},w.transformPhrase=function(t,e,i){return b(t,e,i)},t.exports=w},function(t,e,i){"use strict";var r=i(0),n=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){if(!r(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=i),"[object Array]"===n.call(t)?function(t,e,i){for(var r=0,n=t.length;r<n;r++)o.call(t,r)&&(null==i?e(t[r],r,t):e.call(i,t[r],r,t))}(t,e,a):"string"==typeof t?function(t,e,i){for(var r=0,n=t.length;r<n;r++)null==i?e(t.charAt(r),r,t):e.call(i,t.charAt(r),r,t)}(t,e,a):function(t,e,i){for(var r in t)o.call(t,r)&&(null==i?e(t[r],r,t):e.call(i,t[r],r,t))}(t,e,a)}},function(t,e,i){"use strict";var r=function(){};t.exports=r},function(t,e,i){"use strict";var r=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==n.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i,o=r.call(arguments,1),a=Math.max(0,e.length-o.length),s=[],h=0;h<a;h++)s.push("$"+h);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var n=e.apply(this,o.concat(r.call(arguments)));return Object(n)===n?n:this}return e.apply(t,o.concat(r.call(arguments)))}),e.prototype){var c=function(){};c.prototype=e.prototype,i.prototype=new c,c.prototype=null}return i}},function(t,e,i){"use strict";var r=i(2),n=i(4),o=i(6),a=i(8),s=i(25),h=r.call(Function.call,a());n(h,{getPolyfill:a,implementation:o,shim:s}),t.exports=h},function(t,e,i){"use strict";var r=Array.prototype.slice,n=i(5),o=Object.keys,a=o?function(t){return o(t)}:i(16),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return n(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,i){"use strict";var r;if(!Object.keys){var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=i(5),s=Object.prototype.propertyIsEnumerable,h=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,i="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),d=[];if(!e&&!i&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&i;if(s&&t.length>0&&!n.call(t,0))for(var g=0;g<t.length;++g)d.push(String(g));if(r&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var y in t)f&&"prototype"===y||!n.call(t,y)||d.push(String(y));if(h)for(var v=function(t){if("undefined"==typeof window||!u)return p(t);try{return p(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)v&&"constructor"===l[b]||!n.call(t,l[b])||d.push(l[b]);return d}}t.exports=r},function(t,e,i){"use strict";var r=i(7),n=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=i(18),h=i(19),c=i(20),l=i(21),p=i(22),d=i(0),u=i(23),f=i(1),g={ToPrimitive:u,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return h(e)?0:0!==e&&c(e)?l(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(h(e)||0===e||!c(e))return 0;var i=l(e)*Math.floor(Math.abs(e));return p(i,65536)},ToString:function(t){return a(t)},ToObject:function(t){return this.CheckObjectCoercible(t),n(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new o(e||"Cannot call method on "+t);return t},IsCallable:d,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:h(t)&&h(e)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(f(t,i)&&!e[i])return!1;var r=f(t,"[[Value]]"),n=f(t,"[[Get]]")||f(t,"[[Set]]");if(r&&n)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Get]]")&&!f(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Value]]")&&!f(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(s(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new o("ToPropertyDescriptor requires an object");var e={};if(f(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),f(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),f(t,"value")&&(e["[[Value]]"]=t.value),f(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),f(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new TypeError("getter must be a function");e["[[Get]]"]=i}if(f(t,"set")){var r=t.set;if(void 0!==r&&!this.IsCallable(r))throw new o("setter must be a function");e["[[Set]]"]=r}if((f(e,"[[Get]]")||f(e,"[[Set]]"))&&(f(e,"[[Value]]")||f(e,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=g},function(t,e,i){"use strict";var r=i(7),n=r("%TypeError%"),o=r("%SyntaxError%"),a=i(1),s={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(a(e,r)&&!i[r])return!1;var o=a(e,"[[Value]]"),s=a(e,"[[Get]]")||a(e,"[[Set]]");if(o&&s)throw new n("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(t,e,i,r){var a=s[e];if("function"!=typeof a)throw new o("unknown record type: "+e);if(!a(t,r))throw new n(i+" must be a "+e);console.log(a(t,r),r)}},function(t,e){t.exports=Number.isNaN||function(t){return t!=t}},function(t,e){var i=Number.isNaN||function(t){return t!=t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!i(t)&&t!==1/0&&t!==-1/0}},function(t,e){t.exports=function(t){return t>=0?1:-1}},function(t,e){t.exports=function(t,e){var i=t%e;return Math.floor(i>=0?i:i+e)}},function(t,e,i){"use strict";var r=Object.prototype.toString,n=i(24),o=i(0),a=function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===r.call(t)?String:Number)===String||e===Number){var i,a,s=e===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(t[s[a]])&&(i=t[s[a]](),n(i)))return i;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};t.exports=function(t){return n(t)?t:arguments.length>1?a(t,arguments[1]):a(t)}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,i){"use strict";var r=i(4),n=i(8);t.exports=function(){var t=n();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,i){"use strict";i.r(e);var r=i(3),n=i.n(r),o=function(t){return new Promise(function(e,i){let r=new FileReader;r.onloadend=function(t){e(n.a.SHA1(function(t){for(var e=new Uint8Array(t),i=[],r=0;r<e.length;r+=4)i.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return n.a.lib.WordArray.create(i,e.length)}(t.target.result)).toString())},r.readAsArrayBuffer(t)})};class a{constructor(t){this.config=t,this.onSelectorClick=this.onSelectorClick.bind(this),this.model='<div class="kalamu-thumbnail">\n                <a class="kalamu-checker"><i class="fa fa-check text-success"></i></a>\n                <div class="progress" hidden="true"><div class="progress-bar bg-success" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div></div>\n            </div>'}static createFromInput(t,e=null){null===e&&(e={}),e.name=e.name||t.name,e.type=e.type||t.type,e.input=t,e.new=!0;let i=new Promise((e,i)=>{o(t).then(function(t){e(t)})}),r=new Promise((e,i)=>{let r=new FileReader;r.onload=function(t){e(t.target.result)},r.readAsDataURL(t)});return Promise.all([e,i,r]).then(function(t){let e=t[0];return e.identifier=t[1],e.url=t[2],e.thumbnail_url=t[2],new a(e)})}updateFromBlob(t){this.config.type=t.type,this.config.input=t}setSelectable(t){this.config.selectable=t,this.element&&(t?this.element.querySelector(".kalamu-checker").addEventListener("click",this.onSelectorClick):this.element.querySelector(".kalamu-checker").removeEventListener("click",this.onSelectorClick))}display(t){if(void 0===this.element){let t=document.createElement("div");t.innerHTML=this.model.trim(),this.element=t.firstChild,this.config.selectable&&this.element.querySelector(".kalamu-checker").addEventListener("click",this.onSelectorClick)}return t.appendChild(this.element),this.refresh(),this.element}refresh(){if(void 0===this.element)return;this.config.selectable?this.element.classList.add("selectable"):this.element.classList.remove("selectable"),this.element.setAttribute("kalamu-img-index",this.config.index),this.element.style["background-image"]="url("+this.config.thumbnail_url+")";let t=this.element.getElementsByClassName("progress")[0];void 0!==this.config.uploading?(t.removeAttribute("hidden"),t.children[0].setAttribute("style","width: "+this.config.uploading+"%"),t.children[0].setAttribute("aria-valuenow",this.config.uploading)):t.setAttribute("hidden",!0)}setImageIndex(t){this.config.index=t,this.element&&this.element.setAttribute("kalamu-img-index",this.config.index)}onSelectorClick(t){t.stopPropagation(),t.preventDefault(),this.isSelected()?this.deselect():this.select()}isSelected(){return this.element.classList.contains("selected")}select(){this.element.classList.add("selected"),document.dispatchEvent(new CustomEvent("kalamu-image.selected",{detail:this}))}deselect(){this.element.classList.remove("selected"),document.dispatchEvent(new CustomEvent("kalamu-image.deselected",{detail:this}))}uploadTo(t){if(void 0===this.config.input)return;this.config.input instanceof Blob&&(this.config.input=new File([this.config.input],this.config.name,{type:this.config.type}));let e=new XMLHttpRequest;if(e.addEventListener("progress",function(t){t.lengthComputable&&(this.config.uploading=t.loaded/t.total*100,this.refresh())}.bind(this)),e.addEventListener("load",function(t){delete this.config.uploading,this.config.new=!1;let e=JSON.parse(t.target.responseText);for(let t of["identifier","name","type","created_at","size","url","thumbnail_url","dimensions"])this.config[t]=e[t];this.refresh()}.bind(this)),this.config.new){let i=new FormData;i.append("image",this.config.input),e.open("POST",t+"/"+this.config.identifier,!0),e.send(i)}else e.open("PUT",t+"/"+this.config.identifier,!0),e.send(this.config.input)}}var s=i(9),h=i.n(s),c=i(10),l=i.n(c);var p={translations:{en:{num_added:"%{smart_count} file added |||| %{smart_count} files added",no_files:"No file",no_files_help:"Add your files on the top bar.",date:"%{month}/%{day}/%{year}",dimensions_pixels:"%{width} pixels by %{height}"},fr:{num_added:"%{smart_count} fichier ajoutÃ© |||| %{smart_count} fichiers ajoutÃ©s",no_files:"Aucun fichier",no_files_help:"Ajoutez vos fichiers dans la barre ci-dessus.",date:"%{day}/%{month}/%{year}",dimensions_pixels:"%{width} pixels par %{height}"}}};i.d(e,"default",function(){return u});var d=new l.a;class u{constructor(t){let e=t.lang||window.navigator.language.substr(0,2);if(e&&void 0!==p.translations[e]||(e="en"),d.extend(p.translations[e]),d.locale(e),this.dropZone=t.dropZone,this.dropZone.classList.add("kmm-dropZone"),this.displayZone=t.displayZone,this.displayZone.classList.add("kmm-displayZone"),this.infoZone=t.infoZone,this.infoZone.classList.add("kmm-infoZone"),this.apiEntryPoint=t.apiEntryPoint,this.selectable=t.selectable||"none",-1===["none","single","multiple"].indexOf(this.selectable))throw new Error("'selectable' attribute can only be : none, single or multiple");this.onStart=t.onStart||function(){},this.onSelectionChanged=t.onSelectionChanged||function(){},this.images=[],this.showImageDetails=this.showImageDetails.bind(this),this.startEditMode=this.startEditMode.bind(this),this.deleteImage=this.deleteImage.bind(this),this.imageCrop=this.imageCrop.bind(this),this.imageFlipH=this.imageFlipH.bind(this),this.imageFlipV=this.imageFlipV.bind(this),this.imageRotate90L=this.imageRotate90L.bind(this),this.imageRotate90R=this.imageRotate90R.bind(this),this.imageSave=this.imageSave.bind(this),this.imageSaveAsCopy=this.imageSaveAsCopy.bind(this),this.imageCancel=this.imageCancel.bind(this),this.stopEdit=this.stopEdit.bind(this),this.dropZone.addEventListener("dragover",this.onDragover.bind(this)),this.dropZone.addEventListener("drop",this.onDrop.bind(this)),this.dropZone.querySelector("input").addEventListener("change",this.onAddByBrowser.bind(this)),window.addEventListener(this.apiEntryPoint,function(t){if(t.detail!==this){var e=this.getSelection();this.fetchList().then(()=>{this.setSelection(e)})}}.bind(this)),this.handleSelection(),this.fetchList().then(function(){return new Promise(function(t,e){this.onStart(this),t()}.bind(this))}.bind(this)).then(function(){let t=function(t){this.images.indexOf(t.detail)>=0&&this.onSelectionChanged(this)}.bind(this);document.addEventListener("kalamu-image.selected",t),document.addEventListener("kalamu-image.deselected",t)}.bind(this))}getImages(){return this.images}handleSelection(){"none"!==this.selectable&&"single"===this.selectable&&document.addEventListener("kalamu-image.selected",function(t){if(-1===this.images.indexOf(t.detail))return!1;for(let e of this.images)e.isSelected()&&e!==t.detail&&e.deselect()}.bind(this))}getSelection(){return this.images.filter(function(t){return t.isSelected()}).map(function(t){return t.config.identifier})}setSelection(t){for(let e of this.images)t.indexOf(e.config.identifier)>=0?e.select():e.deselect()}onDragover(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}onDrop(t){t.stopPropagation(),t.preventDefault(),this.addFiles(t.dataTransfer.files)}onAddByBrowser(t){t.stopPropagation(),t.preventDefault(),this.addFiles(this.dropZone.querySelector("input").files),this.dropZone.querySelector("input").form.reset()}addFiles(t){for(let e of t)e.type.match(/image.*/)&&a.createFromInput(e).then(function(t){let e=this.images.push(t);t.setImageIndex(e-1),t.uploadTo(this.apiEntryPoint),this.refreshList().then(function(){1===this.images.length&&"none"!==this.selectable&&this.images[0].select()}.bind(this)),window.dispatchEvent(new CustomEvent(this.apiEntryPoint,{detail:this}))}.bind(this));let e=(new DOMParser).parseFromString('<div class="kalamu-notification text-success"><strong>'+d.t("num_added",{smart_count:t.length})+" </strong></div>","text/xml");this.dropZone.append(e.firstChild),setTimeout(function(){this.dropZone.querySelector(".kalamu-notification").remove()}.bind(this),2e3)}fetchList(){return new Promise(function(t,e){var i=new XMLHttpRequest;i.onload=function(e){if(4==e.target.readyState&&200==e.target.status){this.images=[];for(let t of JSON.parse(i.responseText))this.images.push(new a(t));this.refreshList().then(t())}}.bind(this),i.open("GET",this.apiEntryPoint,!0),i.send(null)}.bind(this))}refreshList(){return new Promise(function(t,e){this.sortList(),this.displayZone.innerHTML="";for(let t in this.images){let e=this.images[t];e.setImageIndex(t),e.setSelectable("none"!==this.selectable),e.display(this.displayZone).addEventListener("click",this.showImageDetails)}this.images.length||(this.displayZone.innerHTML='<div class="kmm-empty-list"><strong>'+d.t("no_files")+"</strong><br><span>"+d.t("no_files_help")+"</span></div>"),t()}.bind(this))}sortList(){this.images.sort(function(t,e){return t.config.identifier>e.config.identifier}).map(function(t,e){t.setImageIndex(e)})}showImageDetails(t){if(t){if(t.stopPropagation(),t.preventDefault(),!t.target.hasAttribute("kalamu-img-index"))return;this.currentImage=this.images[t.target.getAttribute("kalamu-img-index")]}this.infoZone.querySelector("img").setAttribute("src",this.currentImage.config.url),this.infoZone.querySelector(".img-metas").removeAttribute("hidden"),this.infoZone.querySelector(".img-tools").setAttribute("hidden",!0),this.infoZone.querySelector(".kmm-start-edit").addEventListener("click",this.startEditMode),this.infoZone.querySelector(".kmm-delete-image").addEventListener("click",this.deleteImage),this.infoZone.querySelector(".file-name .value").textContent=this.currentImage.config.name,this.infoZone.querySelector(".file-type .value").textContent=this.currentImage.config.type;let e=new Date(1e3*this.currentImage.config.created_at);this.infoZone.querySelector(".file-date .value").textContent=d.t("date",{day:String("0"+e.getDay()).slice(-2),month:String("0"+e.getMonth()).slice(-2),year:e.getFullYear()}),this.infoZone.querySelector(".file-size .value").textContent=Math.floor(this.currentImage.config.size/1024)+"Ko",this.infoZone.querySelector(".file-dimensions .value").textContent=d.t("dimensions_pixels",{width:this.currentImage.config.dimensions.width,height:this.currentImage.config.dimensions.height}),$(this.infoZone).one("hide.bs.modal",this.onImageDetailsClose.bind(this)),$(this.infoZone).modal("show")}startEditMode(t){t.stopPropagation(),t.preventDefault(),this.infoZone.querySelector(".img-tools").removeAttribute("hidden"),this.infoZone.querySelector(".img-metas").setAttribute("hidden",!0);const e=this.infoZone.querySelector(".cropperImagecontainer img");this.cropper=new h.a(e,{viewMode:2,autoCrop:!1,responsive:!0,zoomOnWheel:!1}),this.infoZone.querySelector(".kmm-cropper-crop").addEventListener("click",this.imageCrop),this.infoZone.querySelector(".kmm-cropper-flip-h").addEventListener("click",this.imageFlipH),this.infoZone.querySelector(".kmm-cropper-flip-v").addEventListener("click",this.imageFlipV),this.infoZone.querySelector(".kmm-cropper-rotate-90-l").addEventListener("click",this.imageRotate90L),this.infoZone.querySelector(".kmm-cropper-rotate-90-r").addEventListener("click",this.imageRotate90R),this.infoZone.querySelector(".kmm-cropper-save").addEventListener("click",this.imageSave),this.infoZone.querySelector(".kmm-cropper-saveAsCopy").addEventListener("click",this.imageSaveAsCopy),this.infoZone.querySelector(".kmm-cropper-cancel").addEventListener("click",this.imageCancel)}deleteImage(t){t.stopPropagation(),t.preventDefault(),this.currentImage.isSelected()&&this.currentImage.deselect();let e=new XMLHttpRequest;e.addEventListener("load",function(t){this.images.splice(this.images.indexOf(this.currentImage),1),this.currentImage=null,$(this.infoZone).modal("hide"),window.dispatchEvent(new CustomEvent(this.apiEntryPoint,{detail:this})),this.refreshList()}.bind(this)),e.open("DELETE",this.apiEntryPoint+"/"+this.currentImage.config.identifier,!0),e.send(null)}onImageDetailsClose(){this.infoZone.querySelector(".kmm-start-edit").removeEventListener("click",this.startEditMode),this.infoZone.querySelector(".kmm-delete-image").removeEventListener("click",this.deleteImage),this.cropper&&this.stopEdit()}stopEdit(){this.infoZone.querySelector(".kmm-cropper-crop").removeEventListener("click",this.imageCrop),this.infoZone.querySelector(".kmm-cropper-flip-h").removeEventListener("click",this.imageFlipH),this.infoZone.querySelector(".kmm-cropper-flip-v").removeEventListener("click",this.imageFlipV),this.infoZone.querySelector(".kmm-cropper-rotate-90-l").removeEventListener("click",this.imageRotate90L),this.infoZone.querySelector(".kmm-cropper-rotate-90-r").removeEventListener("click",this.imageRotate90R),this.infoZone.querySelector(".kmm-cropper-save").removeEventListener("click",this.imageSave),this.infoZone.querySelector(".kmm-cropper-saveAsCopy").removeEventListener("click",this.imageSaveAsCopy),this.infoZone.querySelector(".kmm-cropper-cancel").removeEventListener("click",this.imageCancel),this.cropper.destroy()}imageCrop(){this.cropper.crop()}imageFlipH(){this.cropper.scaleX(-1*(this.cropper.getImageData().scaleX||1))}imageFlipV(){this.cropper.scaleY(-1*(this.cropper.getImageData().scaleY||1))}imageRotate90L(){this.cropper.rotate(-90),this.centerImage()}imageRotate90R(){this.cropper.rotate(90),this.centerImage()}imageSave(){this.cropper.getCroppedCanvas({maxWidth:4096,maxheight:4096}).toBlob(function(t){this.currentImage.updateFromBlob(t),this.currentImage.uploadTo(this.apiEntryPoint),$(this.infoZone).modal("hide"),window.dispatchEvent(new CustomEvent(this.apiEntryPoint,{detail:this})),this.refreshList()}.bind(this))}imageSaveAsCopy(){this.cropper.getCroppedCanvas({maxWidth:4096,maxheight:4096}).toBlob(function(t){let e=JSON.parse(JSON.stringify(this.currentImage.config));e.name=e.name.replace(/^(.+)\.([^\.]+)$/,"$1-copie.$2"),a.createFromInput(t,e).then(function(t){this.images.push(t),t.uploadTo(this.apiEntryPoint),$(this.infoZone).modal("hide"),window.dispatchEvent(new CustomEvent(this.apiEntryPoint,{detail:this})),this.refreshList()}.bind(this))}.bind(this))}imageCancel(){this.stopEdit(),this.showImageDetails()}centerImage(){let t=this.cropper.getContainerData(),e=this.cropper.getCanvasData(),i=t.width/e.naturalWidth,r=t.height/e.naturalHeight,n=1;(i<1||r<1)&&(n=Math.min(i,r)),this.cropper.zoomTo(n),t=this.cropper.getContainerData(),e=this.cropper.getCanvasData(),this.cropper.moveTo((t.width-e.width)/2,(t.height-e.height)/2)}}}]).default;